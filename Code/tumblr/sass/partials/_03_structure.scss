// Structure partial
// As a general rule, margins should be set in wrappers while
// paddings go in the elements inside the wrapper

*, *:before, *:after {
  @include box-sizing(border-box);
}

html {
  margin: 0;
  padding: 0;
}

body {
  position: relative;
  margin: 0;
  padding: 0;
  background: #ffffff;
}

article {
  position: relative;
  margin: 0;
  padding: 0;
}

a, form, li, p, span, table, ul, h4, h5, input, textarea {
  color: $color-text;
}

a {
  padding: 5px 0;
  &:hover {
    color: $color-highlight;
  }
}

b {
  color: $color-highlight;
}

// Global header

header {
  width: 100%;
  min-width: $width-contents;
}

.header-wrapper {
  position: relative;
  width: 100%;  
  img {
    display: block;
    width: 100%;
    margin: 0 auto;
  }
  h1 {
    display: block;
    height: 118px;
    width: 180px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -59px 0 0 -90px;
    a {
      background: url("http://static.tumblr.com/pqi9beo/lZ8nykfoz/header-logo.png") 0 0 no-repeat;
    }
  }
}

.nav-wrapper {
  width: 100%;
  border-bottom: solid 1px $color-border;
  nav {
    width: $width-contents;
    margin: 0 auto;
    padding: 0 21px 21px;
    text-align: center;
    ol {
      margin: 0;
      padding: 0;
    }
    li {
      margin-right: 34px;
      padding-top: 16px;
      border-top: solid 5px transparent;
      @include inline-block;
      @include transition(all 0.1s ease-in-out);
      &:last-child {
        margin: 0;
      }
      &:hover {
        border-top: solid 5px $color-highlight;
      }
    }
  }
}

// Notification section

.panel-info {
  width: 100%;
  min-width: $width-contents;
  background: #fafafa;
}

.info-wrapper {
  width: $width-contents;
  margin: 0 auto;
  padding: 21px;
  h3 {
    margin: 0 0 21px;
    text-align: left;
    color: $color-highlight;
  }
  .calendar-wrapper {
    float: left;
    width: 60%;
    padding-right: 21px;
  }
  .news-wrapper {
    width: 40%;
    ol {
      width: 100%;
      padding: 0;
      li {
        list-style: none;      
      }
    }
  }
}

// Index page

.panel-odd {
  width: 100%;
  min-width: $width-contents;
}

.panel-even {
  width: 100%;
  min-width: $width-contents;
  background: $color-background;
}

.contents-wrapper {
  width: $width-contents;
  margin: 0 auto;
  padding: 21px;
  h2 {
    margin: 13px 0 34px;
    text-align: center;
    color: $color-highlight;
  }
  h3 {
    margin: 0 0 21px;
    text-align: center;
    color: $color-highlight;
  }
  ul {
    width: 100%;
    padding: 0;
    li {
      float: left;
      width: 50%;
      margin: 0;
      padding: 0;
      text-align: center;
      list-style: none;      
    }
  }
  p {
    width: 100%;
    line-height: 2.1em;
  }
  img {
    width: $width-image;
    @include border-radius(1px);
  }
  .vertical-text {
    width: auto;
    margin: 0 auto;
    text-align: left;
    @include prefixed-property(writing-mode, vertical-rl);
  }
}

// Contact section

.panel-contact {
  width: 100%;
  min-width: $width-contents;
  background: #fafafa;
}

#contact-table {
  width: 100%;
  .contact-td-l {
    width: 50%;
    margin: 0;
    padding: 0 10.5px 13px 0;
    text-align: right;
  }
  .contact-td-r {
    width: 50%;
    margin: 0;
    padding: 0 0 13px 10.5px;
    text-align: left;
  }
  input, textarea {
    margin: 0;
    padding: 5px 8px;
    line-height: 1.615;
    border: solid 1px $color-border;
    @include border-radius(1px);
  }
  #ss-submit {
    margin-top: 13px;
    padding: 3px 13px;
    color: #ffffff;
    background: $color-highlight;
    border: solid 1px $color-border;
    @include border-radius(3px);

  }
}

// Tagged page

.panel-permalink, .panel-tagged {
  width: 100%;
  min-width: $width-contents;
  padding: 21px;
  background: $color-background;
  h2 {
    margin: 13px 0 34px;
    text-align: center;
    color: $color-highlight;
  }
  ol {
    margin: 0;
    padding: 0;
  }
}

.permalink-wrapper, .tagged-wrapper {
  display: block;
  width: $width-inner-contents;
  margin: 0 auto 34px;
  padding: 21px;
  background: #ffffff;
  border: solid 1px $color-border;
  @include border-radius(1px);
//  @include box-shadow(0 1px 3px 1px rgba(0, 0, 0, 0.03));
  h3 {
    margin: 0 0 21px;
    text-align: left;
    color: $color-highlight;
  }
  img {
    display: block;
    margin: 0 auto;
  }
  footer {
    padding-top: 13px;
    border-top: solid 1px $color-border;
  }
}

.メニュー { // Set styling for "menu" photo posts
  ol {
    display: block;
    width: $width-contents;
    margin: 0 auto;
    padding: 0;
  }
  .tagged-wrapper {
    float: left;
    display: block;
    width: $width-menutag-contents;
    margin: 0 21px 34px;
    padding: 21px 21px 0;
    img {
      width: $width-menutag-image;
    }
    p {
      text-align: center;
    }
    footer {
      display: none;
    }
  }
}

.pagination {
  width: $width-inner-contents;
  margin: 0 auto 13px;
  ul {
    margin: 0;
    padding: 0;
  }
  li {
    width: 33.3%;
    list-style: none;
    &:first-child {
      float: left;
      text-align: left;
    }
    &:nth-child(2) {
      float: right;
      text-align: right;
    }
    &:last-child {
      margin: 0 auto;
      text-align: center;
      color: $color-highlight;
    }
    a {
      padding: 5px 0;
    }
  }
}

// Global footer

.panel-footer {
  width: 100%;
  min-width: $width-contents;
  background: $color-highlight;
}

.footer-wrapper {
  width: $width-contents;
  margin: 0 auto;
  padding: 21px 21px 34px;
  nav {
    width: 100%;
    margin-bottom: 13px;
    ol {
      margin: 0;
      padding: 0;
    }
    li {
      margin-right: 13px;
      color: #ffffff;
      @include inline-block;
      &:last-child {
        margin: 0;
      }
      &:hover {
      }
      a {
        color: inherit;
      }
    }
  }
  span {
    color: #ffffff;
    a {
      color: inherit;
    }    
  }
}

.cf {
  @include clearfix;
}

//.pie {
//  @include pie-element(relative);
//}
.pie {
  behavier: url("https://dl.dropboxusercontent.com/u/2997478/kyg-samples/css/PIE.htc")
}
